import { Meta, Story, ArgsTable, } from '@storybook/addon-docs';
import {
    CoTooltip,
} from '@src/components/base/index';

<Meta
    title="Base/co-tooltip"
    component={ CoTooltip }
    argTypes={{
    }}
    args={{
        contentWidth: '300px'
    }}
/>

export const Template = (args, { argTypes }) => ({
    components: {
        CoTooltip,
    },
    props: Object.keys(argTypes),
    template: `
        <co-tooltip v-bind="$props"></co-tooltip>
    `,
});

## 代码引用
```js
import {
    CoTooltip,
} from '@src/component/base/index';
```

## icon显示tooltip

> `props.content` 或 未写`content插槽`，会自动屏蔽tooltip

### 使用默认icon
经常会有问号，悬浮显示内容的需要

<Story
    name="icon显示tooltip"
    args={{
        content: '啊啊啊啊啊啊啊啊啊',
    }}
>
    {Template.bind({})}
</Story>

```html
<co-tooltip
    content="啊啊啊啊啊啊啊啊啊"
></co-tooltip>
```


### 更换font

<Story
    name="更换font"
    args={{
        content: '啊啊啊啊啊啊啊啊啊',
        iconfont: 'el-icon-delete',
    }}
>
    {Template.bind({})}
</Story>

```html
<co-tooltip
    content="啊啊啊啊啊啊啊啊啊"
    iconfont="el-icon-delete"
></co-tooltip>
```

## lineClamp 模式
### 快捷设置显示几行文案

<Story
    name="快捷设置显示几行文案"
    args={{
        lineClamp: 1,
        content: '我是超级多的文案！！！我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案我是超级多的文案',
    }}
>
    {Template.bind({})}
</Story>

```html
<co-tooltip
    :lineClamp="1"
    content="我是超级多的文案!!!!!!"
></co-tooltip>
```

## 禁用tooltip


> 精准计算，可能需要通过mouseenter等来计算，有事件，感觉没太大必要，故未实现
> 通常，当文案较少时，不足以显示...，希望可以关闭tooltip，增加体验

### autoCal
`autoCal`： 利用canvas计算，对多行文本，会存在问题


<Story
    name="禁用tooltip(autoCal)"
    args={{
        lineClamp: 1,
        content: '我是超级多的文案！！！',
        autoCal: true,
    }}
>
    {Template.bind({})}
</Story>

```html
<co-tooltip
    :lineClamp="1"
    content="我是超级多的文案!!!!!!"
    :autoCal="true"
></co-tooltip>
```


### len
`len`: 手动配置，多少字符后，禁用tooltip，并不准确，但无需js计算，一般业务都可以覆盖

<Story
    name="禁用tooltip(len)"
    args={{
        lineClamp: 1,
        content: '文本少于10字符，不显示tooltip',
        len: 10,
    }}
>
    {Template.bind({})}
</Story>

```html
<co-tooltip
    :lineClamp="1"
    content="文本少于20字符，不显示tooltip"
    :len="20"
></co-tooltip>
```

export const TemplateContentSlot = (args, { argTypes }) => ({
    components: {
        CoTooltip,
    },
    props: Object.keys(argTypes),
    template: `
        <co-tooltip v-bind="$props">
            <template #content>
                <p>这是第一行</p>
                <p style="color: red">这是第二行</p>
            </template>
        </co-tooltip>
    `,
});


## slots
### content插槽

<Story
    name="content插槽"
    args={{
    }}
>
    {TemplateContentSlot.bind({})}
</Story>

```html
<co-tooltip >
    <template #content>
        <p>这是第一行</p>
        <p style="color: red">这是第二行</p>
    </template>
</co-tooltip>
```


<ArgsTable of={CoTooltip} />
